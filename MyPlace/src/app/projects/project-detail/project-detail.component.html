<div class="row-fluid">
  <div class="col-sm-offset-3 col-sm-6 mx-auto">
      <form [formGroup]="form" (ngSubmit)="onSubmit(file.value)">
          <div class="form-group">
              <label for="name">{{'dxDataGrid-name' | translate}}:</label>
              <dx-text-box [inputAttr]="{id: 'name'}" formControlName="name"></dx-text-box>
          </div>

          <p>
              <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                  {{'Show Optional Fields' | translate}}
              </button>
          </p>
          <div class="collapse" id="collapseExample">
              <div class="card card-block">

                  <div class="form-group">
                      <label for="testName">{{'dxDataGrid-testName' | translate}}:</label>
                      <dx-text-box [inputAttr]="{id: 'testName'}" formControlName="testName"></dx-text-box>
                  </div>

                  <div class="form-group">
                      <label for="testType">{{'dxDataGrid-testType' | translate}}:</label>
                      <dx-text-box [inputAttr]="{id: 'testType'}" formControlName="testType"></dx-text-box>
                  </div>

                  <div class="form-group">
                      <label for="channel">{{'dxDataGrid-channel' | translate}}:</label>
                      <dx-text-box [inputAttr]="{id: 'channel'}" formControlName="channel"></dx-text-box>
                  </div>

                  <div class="form-group">
                      <label for="tag">{{'dxDataGrid-tag' | translate}}:</label>
                      <dx-text-box [inputAttr]="{id: 'tag'}" formControlName="tag"></dx-text-box>
                  </div>

                  <div class="form-group">
                      <label for="mass">{{'dxDataGrid-mass' | translate}}:</label>
                      <dx-number-box [inputAttr]="{id: 'mass'}"
                                     formControlName="mass"
                                     [showSpinButtons]="true"
                                     [showClearButton]="true"
                                     [min]="0"
                                     [max]="1000000">
                      </dx-number-box>
                  </div>

                  <div class="form-group">
                      <label for="activeMaterialFraction">{{'dxDataGrid-activeMaterialFraction' | translate}}:</label>
                      <dx-number-box [inputAttr]="{id: 'activeMaterialFraction'}"
                                     formControlName="activeMaterialFraction"
                                     [showSpinButtons]="true"
                                     [showClearButton]="true"
                                     [min]="0"
                                     [max]="1000000">
                      </dx-number-box>
                  </div>

                  <div class="form-group">
                      <label for="theoreticalCapacity">{{'dxDataGrid-theoreticalCapacity' | translate}}:</label>
                      <dx-number-box [inputAttr]="{id: 'theoreticalCapacity'}"
                                     formControlName="theoreticalCapacity"
                                     [showSpinButtons]="true"
                                     [showClearButton]="true"
                                     [min]="0"
                                     [max]="1000000">
                      </dx-number-box>
                  </div>

                  <div class="form-group">
                      <label for="area">{{'dxDataGrid-area' | translate}}:</label>
                      <dx-number-box [inputAttr]="{id: 'area'}"
                          formControlName="area"
                          [showSpinButtons]="true"
                          [showClearButton]="true"
                          [min]="0"
                          [max]="1000000">
                      </dx-number-box>
                  </div>

                  <div class="form-group">
                      <label for="batteryName">{{'dxDataGrid-batteryName' | translate}}:</label>
                      <dx-text-box [inputAttr]="{id: 'batteryName'}" formControlName="batteryName"></dx-text-box>
                  </div>

                  <div class="form-group">
                      <label for="build">{{'dxDataGrid-build' | translate}}:</label>
                      <dx-text-box [inputAttr]="{id: 'build'}" formControlName="build"></dx-text-box>
                  </div>

                  <div class="form-group">
                      <label for="packSupplier">{{'dxDataGrid-packSupplier' | translate}}:</label>
                      <dx-text-box [inputAttr]="{id: 'packSupplier'}" formControlName="packSupplier"></dx-text-box>
                  </div>

                  <div class="form-group">
                      <label for="cellSupplier">{{'dxDataGrid-cellSupplier' | translate}}:</label>
                      <dx-text-box [inputAttr]="{id: 'cellSupplier'}" formControlName="cellSupplier"></dx-text-box>
                  </div>

                  <div class="form-group">
                      <label for="testOwner">{{'dxDataGrid-testOwner' | translate}}:</label>
                      <dx-text-box [inputAttr]="{id: 'testOwner'}" formControlName="testOwner"></dx-text-box>
                  </div>

                  <div class="form-group">
                      <label for="temperature">{{'dxDataGrid-temperature' | translate}}:</label>
                      <dx-number-box [inputAttr]="{id: 'temperature'}"
                                     formControlName="temperature"
                                     [showSpinButtons]="true"
                                     [showClearButton]="true"
                                     [min]="0"
                                     [max]="1000000">
                      </dx-number-box>
                  </div>

                  <div class="form-group">
                      <label for="serialNumber">{{'dxDataGrid-serialNumber' | translate}}:</label>
                      <dx-text-box [inputAttr]="{id: 'serialNumber'}" formControlName="serialNumber"></dx-text-box>
                  </div>

                  <div class="form-group">
                      <label for="technology">{{'dxDataGrid-technology' | translate}}:</label>
                      <dx-text-box [inputAttr]="{id: 'technology'}" formControlName="technology"></dx-text-box>
                  </div>

                  <div class="form-group">
                      <label for="nameplateCapacity">{{'dxDataGrid-nameplateCapacity' | translate}}:</label>
                      <dx-text-box [inputAttr]="{id: 'nameplateCapacity'}" formControlName="nameplateCapacity"></dx-text-box>
                  </div>

                  <div class="form-group">
                      <label for="tester">{{'dxDataGrid-tester' | translate}}:</label>
                      <dx-text-box [inputAttr]="{id: 'tester'}" formControlName="tester"></dx-text-box>
                  </div>

                  <div class="form-group">
                      <label for="procedure">{{'dxDataGrid-procedure' | translate}}:</label>
                      <dx-text-box [inputAttr]="{id: 'procedure'}" formControlName="procedure"></dx-text-box>
                  </div>

                  <div class="form-group">
                      <label for="comments">{{'dxDataGrid-comments' | translate}}:</label>
                      <dx-text-area [inputAttr]="{id: 'comments'}"
                                    formControlName="comments"
                                    [height]="90">
                      </dx-text-area>
                  </div>

              </div>
          </div>

          <div class="form-group fileuploader-container">
              <dx-file-uploader #file
                accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"
                [multiple]="true"
                uploadMode="useForm">
              </dx-file-uploader>
          </div>

          <div class="form-group">
              <button 
                [disabled]="form.invalid || !file.value || file.value.length === 0 || (state$ | async).uploading" 
                type="submit" class="btn btn-primary">{{'dxFileUploader-upload' | translate}}</button>
          </div>

          <div *ngIf="(state$ | async).uploading" class="progress">
              <div class="progress-bar" role="progressbar" [attr.aria-valuenow]="(state$ | async).percentDone" aria-valuemin="0" aria-valuemax="100" [style.width]="(state$ | async).percentDone + '%'"></div>
          </div>

      </form>
  </div>
</div>